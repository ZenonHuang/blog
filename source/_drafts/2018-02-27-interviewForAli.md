# 2017 社招 -- 阿里巴巴电话面试

今年抱着试试看的心态，投递了阿里巴巴的国际无线事业部的 iOS 岗位。

由于我这边是异地在广州，简历一过就直接来了电话面试。

这一点是我完全没有预期的，当时正在上班，和 《[我的面试经历（金山、腾讯、大疆、阿里、微软）](https://xiaozhuanlan.com/topic/4395012867) 》文中提到在公交车上完成电话面试的情况，基本一致，来的非常突然。

首先提供的建议，就是不打无准备的仗，在你投出简历之前，就得已经做好了面试准备。

我这次全当反面教材，提供后来经验参考。

## 第一阶段 -- 项目中遇到过的问题

首先是问项目中遇到的问题。

关于这个可以说的很多，毕竟每一次上版本，都会出现 bug 。

这里开始就答得不太好，平时没有注意对项目问题的总结。

比如讲一下，当多线程访问，造成崩溃的问题。问解决办法，回答说可以上锁。

这个地方就会问，为什么要用这个锁（NSLock），而不是其它的？除了上锁的办法，还有什么办法去解决它吗？

从后面延伸的问题，其实就是可以出彩的地方，答的好应该可以非常加分。

总结提问的方法，就是： 出现一个问题 ， 你用的什么办法解决？ 如果用的是 A 方案，为什么使用 A 方案？除了 A 方案，有没有 B 方案？比较几种解决方案的场景。 

## 第二阶段 -- 简历上的开源项目

简历写了一些对开源项目的参与和学习。

有关于 flexbox 的还算是有来有往，但同样很关键的，就是要比较各个场景下，几种布局方案的优劣，以及原因。

中间有一个比较长的讨论和追问，就是关于 JSPatch 和 Aspects 的冲突问题。

首先我很明确它是会冲突的，我回答原因是因为方法被提前 hook ，Aspects 里的判断再去找的话，就没有找到可以响应的 IMP，会因为找不到方法崩溃。

面试官对于我的答案，表示不是很认同，说两者都是替换方法指针，只是替换了，怎么就会找不到了，然后造成崩溃？

这其实就是追究代码细节了，当时我忘记了，只能说到由于替换了方法指针，所以后来找不到方法，造成崩溃。

面试官继续问我，如果只是用最简单的方法交换，比如 `method_exchangeImplementations` ，和 Aspects 会崩溃吗？我给出的答案很肯定，是不会崩溃，因为我有印象专门操作过。

面试官，就继续追问了，既然你这样不会崩溃，都是替换方法，那么为什么到了 JSPatch 就会因为方法替换而崩溃？到了这里，我也就 GG 了。承认自己可能没记清楚。

这里提供一下答案：

具体到代码里，是 Aspects 里有一个判断，为了防止重复 hook，对于已经替换过的 IMP 不做操作:

    if (!aspect_isMsgForwardIMP(targetMethodIMP)) {
        //replace method
    }

这就导致了在它的 __ASPECTS_ARE_BEING_CALLED__ 方法里，没有找到可以响应的 IMP 而报异常。

中间还问了一下 Aspects 和 JSPatch 不同的地方，我答的是 Aspects 是会生成一个当前对象的子类去做，而且提供了方法前，方法后的插入。

这里又陷入了一个讨论，就是面试官说他记得 JSPatch 也提供了方法前后的代码插入，我记得使用的却是整个的方法替换。

总结开源项目的问题，就是: 说出每一个点，你都能具体到代码细节上，把关键点给说得清清楚楚。模糊的点，就干脆不要提，面试官一定会追问。

## 第三阶段 -- 算法/数据结构

其实问题也很简单，深度遍历的原理，二叉树的循环之类的问题。

当时却答不上来，脑子里已经没有关于它们的概念了。

总结: 面试前，还是需要专门去温习简单的算法和数据结构。

## 第四阶段 -- 介绍自己的优势

这个就根据各人情况，准备说明自己各方面的优势。感觉应该要结合数据和项目来说话。


# 总结

其实面试官都没有问偏门的东西，问的都是简历项目里的问题，常见的简单算法和数据结构。

可以说比较良心了。

和面试流程对应的就是一下四点了:

- 注意对项目问题的总结，能说清楚解决方案，以及为什么使用和其它方案。
- 开源项目的细节实现，关键问题的流程
- 牢固的基础很重要，最好平时就多写算法题目，而不仅仅依靠临时准备
- 清楚自己的优劣势，依靠数据说话

凡事预则立，不立则废，希望换工作的朋友们都做好充足的准备，找到心仪的坑。








